{"version":3,"sources":["components/Newsfeed/FormToChange/FormToChange.module.css","components/Button/Button.module.css","components/Newsfeed/Newsfeed.module.css","components/Search/Search.module.css","components/Newsfeed/UserSection/UserSection.module.css","components/Newsfeed/NewsItem/NewsItem.module.css","components/animation/animation.module.css","components/Newsfeed/ModalToRead/ModalToRead.module.css","components/Newsfeed/Menu/Menu.module.css","components/Preloader/Preloader.module.css","store/reducers/globalReducer.js","store/reducers/articlesReducer.js","store/reducers/redirectReducer.js","store/store.js","utils.js","hoc/withRedirect.js","api/localStorage.js","api/backendEmulation.js","api/api.js","api/initDefaultBase.js","store/thunkCreators/newsfeedThunkCreators.js","store/thunkCreators/commonThunkCreators.js","components/Preloader/Preloader.js","components/Button/Button.js","components/Search/Search.js","components/Newsfeed/NewsItem/NewsItem.js","components/Newsfeed/ModalToRead/ModalToRead.js","components/fieldsToForms.js","validators.js","components/Newsfeed/FormToChange/ImageBlock/ImageBlock.js","components/Newsfeed/FormToChange/ButtonsBlock/ButtonsBlock.js","components/Newsfeed/FormToChange/FormToChange.js","components/Switcher/Switcher.js","components/Newsfeed/Menu/Menu.js","components/Newsfeed/UserSection/UserSection.js","components/Newsfeed/Filter/Filter.js","components/Newsfeed/Filter/FilterContainer.js","components/Newsfeed/Newsfeed.js","components/Newsfeed/NewsfeedContainer.js","store/thunkCreators/authThunkCreators.js","components/Authentication/LoginForm/LoginForm.js","components/Authentication/SignUpForm/SignUpForm.js","components/Authentication/Auth.js","components/Authentication/AuthContainer.js","App.js","index.js","components/Switcher/Switcher.module.css","components/Authentication/Authentication.module.css","components/Newsfeed/Filter/Filter.module.css"],"names":["module","exports","sortKeys","referenceObjForSort","DEFAULT_SORT_NAME","init","mode","isLoading","sortVariant","isMenuOpen","user","actionTypes","actionCreators","changeMode","type","toggleLoading","value","setSort","setMenuOpen","setUser","globalReducer","state","action","undefined","articles","currentArticle","filters","setArticles","data","setCurrentArticle","id","setFilter","removeFilter","articlesReducer","filter","item","hasThisFilterType","reduce","accumulator","map","method","concat","actionCreator","redirectReducer","reducers","combineReducers","global","redirect","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","getNewsImagePath","options","size","images","large","small","alternative","getItemToSend","formData","owner","original","name","preview","newsLayout","smallImage","largeImage","getDateString","timestamp","date","Date","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","dateObj","year","getFullYear","calendarDate","time","getPathname","prefix","path","split","window","location","pathname","withAuthRedirect","InputComponent","props","unconditionalRedirection","sessionStorage","getItem","removeItem","to","setRedirect","BASE_KEY","VERSION","KEYS","getBase","JSON","parse","localStorage","setBase","setItem","stringify","base","version","users","key","SERVER","urlObj","TOKEN_KEY","backendEmulation","url","newArticles","token","response","ok","body","credentials","document","cookie","addOwnersData","baseAPI","baseKeys","newItem","ArticlesItem","matches","match","RegExp","replace","decodeURIComponent","getCredByKey","obj","decodeObj","test","getTokenTestString","getUser","verifToken","getAllowedUserData","errors","userID","foundItems","mail","pass","encodeString","length","verifUser","setTokenInCredentials","remember","push","validateUserData","User","getLastID","arr","sortArray","sort","a","b","changedItem","isNewInstance","isNewItem","isItemToChange","currentItem","surname","text","getToken","btoa","output","counter","source1","source2","i","updatedCookie","encodeURIComponent","Object","keys","str","charCodeAt","join","atob","Promise","resolve","all","fetch","then","responses","json","catch","makeRequest","URLs","delay","setTimeout","emulateRequest","responseObj","processingResponse","thunkCreators","setBaseItems","dispatch","articlesActionCreators","globalActionCreators","activateModal","newsID","deactivateModal","setNewsItem","itemInfo","checkingFields","r","fieldsWithErrors","index","status","ERROR_TEXT","_error","forEach","SubmissionError","throwErrors","setArticle","api","setChangesAndToggleToMain","deleteNewsItem","clearSearch","initializeReduxForm","inputField","setSearchArticles","logout","e","preventDefault","resetState","scroll","scrollTo","initForm","Preloader","className","absolute","styles","background","container","elem","Button","buttonText","clickHandler","isSubmit","others","classes","children","onClick","Search","extStyles","placeholder","onChangeHandler","clearForm","intStyles","input","onChange","target","cleanButton","NewsItem","imagePath","prewiev","activeUser","mainBlock","contentWraper","imageBlock","image","src","contentBlock","details","changeButton","info","buttonBlock","mobile","toReadMoreButton","infoMobile","ModalToRead","newsItem","handlerToClose","animate","animate__animated","animate__zoomIn","buttonsBlock","closeButton","linkToOriginal","href","newsName","topDecor","centerDecorBox","leftDecor","imageBox","rightDecor","bottomDecor","content","ReactHtmlParser","transform","node","parent","TextField","label","meta","touched","error","tagName","forSpread","tagClass","textarea","errorClass","fieldDescrip","Field","component","CheckBox","checkbox","htmlFor","required","afterTrim","trim","email","ImageBlock","validate","textField","ButtonsBlock","handlerToDelete","deleteButton","submitButton","ReduxFormToChange","reduxForm","handleSubmit","initFormData","FormToChange","animate__fadeIn","useEffect","onSubmit","infoInput","disabled","detailsBlock","layoutBlock","Switcher","items","active","uniqueItems","Array","from","Set","initStateValue","includes","useState","setValue","internalClickHandler","dataset","descrip","SwitcherDescrip","list","SwitcherList","SwitcherItem","data-value","Menu","bodyClassName","listClassName","bgOfCloseButton","isOpen","commonClasses","activationClass","open","menuRef","useRef","onBlurHandler","current","contains","addEventListener","removeEventListener","ref","openButton","decorLine","memuBody","UserSection","logoutClickHandler","closeMenu","redirectTo","Filter","setFilterValue","setFilterMethod","filterMethods","FilterContainer","FILTER_TYPE","filterMethod","filterValue","refresh","toSend","Newsfeed","arrOfSortNames","defaultSortName","setMenu","searchValue","setSearchValue","menuArray","addNewsButton","splice","modalMode","header","logo","MenuList","main","compose","connect","commonThunkCreators","withRouter","withRedirect","propsToSend","sortArticles","filterItem","toLowerCase","setFilterItem","ERRORS_TEXT","signIn","startSubmitValidation","throwError","signUp","confirm","clearSubmitErrors","getErrors","ReduxLoginForm","formBlock","optionsBlock","checkboxContainer","ReduxSignUpForm","backButton","Auth","locationName","logoAnimation","animate__slower","logoClasses","animationType","animate__fadeInLeft","authBlockAnimation","animate__fast","authBlockClasses","authBlock","Authentication","footer","loginForm","LoginForm","signUpForm","SignUpForm","fields","MY_ROUTS","login","signup","PREFIX","routs","pathArr","routsNames","substr","prefixArr","getRoutePrefix","App","basename","exact","render","rootElement","getElementById","DBWasInit","StrictMode","ReactDOM","getMyState","getState"],"mappings":"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","file":"static/js/main.4b31b942.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormToChange\":\"FormToChange_FormToChange__1Q-89\",\"ModalToRead\":\"FormToChange_ModalToRead__1_wrZ\",\"infoInput\":\"FormToChange_infoInput__3Ph7Z\",\"textField\":\"FormToChange_textField__3Fs-K\",\"imageBlock\":\"FormToChange_imageBlock__3l8nJ\",\"detailsBlock\":\"FormToChange_detailsBlock__2WI3q\",\"layoutBlock\":\"FormToChange_layoutBlock__2NcQh\",\"buttonsBlock\":\"FormToChange_buttonsBlock__J41Rm\",\"closeButton\":\"FormToChange_closeButton__1A12A\",\"deleteButton\":\"FormToChange_deleteButton__3pgXX\",\"submitButton\":\"FormToChange_submitButton__2cL_s\",\"fieldDescrip\":\"FormToChange_fieldDescrip__-Z1-f\",\"input\":\"FormToChange_input__rLzSq\",\"textarea\":\"FormToChange_textarea__2aYQn\",\"label\":\"FormToChange_label__1nWBk\",\"error\":\"FormToChange_error__3vEjG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3aiq6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Newsfeed\":\"Newsfeed_Newsfeed__9kC5E\",\"modalMode\":\"Newsfeed_modalMode__1leSg\",\"header\":\"Newsfeed_header__2asjv\",\"logo\":\"Newsfeed_logo__PAdcC\",\"Menu\":\"Newsfeed_Menu__3H2EH\",\"MenuList\":\"Newsfeed_MenuList__1xXRT\",\"addNewsButton\":\"Newsfeed_addNewsButton__1gdsC\",\"Filter\":\"Newsfeed_Filter__3Z0Ur\",\"main\":\"Newsfeed_main__2fRRf\",\"NewsItem\":\"Newsfeed_NewsItem__2_dE8\",\"Preloader\":\"Newsfeed_Preloader__bVnRu\",\"ModalToRead\":\"Newsfeed_ModalToRead__2y50o\",\"FormToChange\":\"Newsfeed_FormToChange__m8KIR\",\"sortBlock\":\"Newsfeed_sortBlock__3nuBg\",\"Switcher\":\"Newsfeed_Switcher__ASiO7\",\"SwitcherItem\":\"Newsfeed_SwitcherItem__26uEV\",\"memuBody\":\"Newsfeed_memuBody__2GOqM\",\"Search\":\"Newsfeed_Search__1zy14\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__N6htj\",\"input\":\"Search_input__1KNg1\",\"cleanButton\":\"Search_cleanButton__24qsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserSection\":\"UserSection_UserSection__2UIo2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewsItem\":\"NewsItem_NewsItem__3b6lb\",\"mainBlock\":\"NewsItem_mainBlock__rWuQf\",\"contentWraper\":\"NewsItem_contentWraper__23tpj\",\"imageBlock\":\"NewsItem_imageBlock__1Jwt-\",\"image\":\"NewsItem_image__lcR2f\",\"contentBlock\":\"NewsItem_contentBlock__1bkUe\",\"details\":\"NewsItem_details__2hXft\",\"info\":\"NewsItem_info__3Hm6Z\",\"changeButton\":\"NewsItem_changeButton__3Ebts\",\"mobile\":\"NewsItem_mobile__2OqKR\",\"prewiev\":\"NewsItem_prewiev__13opK\",\"buttonBlock\":\"NewsItem_buttonBlock__quHww\",\"toReadMoreButton\":\"NewsItem_toReadMoreButton__rExPT\",\"infoMobile\":\"NewsItem_infoMobile__1vi2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"animate__animated\":\"animation_animate__animated__3aLCb\",\"animate__infinite\":\"animation_animate__infinite__56CUv\",\"animate__repeat-1\":\"animation_animate__repeat-1__1rGeU\",\"animate__repeat-2\":\"animation_animate__repeat-2__1Pn63\",\"animate__repeat-3\":\"animation_animate__repeat-3__2VCyX\",\"animate__delay-1s\":\"animation_animate__delay-1s__28YiS\",\"animate__delay-2s\":\"animation_animate__delay-2s__35lz-\",\"animate__delay-3s\":\"animation_animate__delay-3s__WrnH7\",\"animate__delay-4s\":\"animation_animate__delay-4s__16cb7\",\"animate__delay-5s\":\"animation_animate__delay-5s__1QUFZ\",\"animate__faster\":\"animation_animate__faster__3Ct6W\",\"animate__fast\":\"animation_animate__fast__3libF\",\"animate__slow\":\"animation_animate__slow__1q50F\",\"animate__slower\":\"animation_animate__slower__1-rQH\",\"animate__bounce\":\"animation_animate__bounce__2ZS4R\",\"bounce\":\"animation_bounce__3sqEA\",\"animate__flash\":\"animation_animate__flash__19owM\",\"flash\":\"animation_flash__vNt66\",\"animate__pulse\":\"animation_animate__pulse__1nrda\",\"pulse\":\"animation_pulse__2iLbc\",\"animate__rubberBand\":\"animation_animate__rubberBand__3a0L_\",\"rubberBand\":\"animation_rubberBand__2thDB\",\"animate__shakeX\":\"animation_animate__shakeX__1nDvS\",\"shakeX\":\"animation_shakeX__2ddw8\",\"animate__shakeY\":\"animation_animate__shakeY__2k1iR\",\"shakeY\":\"animation_shakeY__1fPqa\",\"animate__headShake\":\"animation_animate__headShake__30aJZ\",\"headShake\":\"animation_headShake__1G4sI\",\"animate__swing\":\"animation_animate__swing__WNYaK\",\"swing\":\"animation_swing__2xW-u\",\"animate__tada\":\"animation_animate__tada__2QwLv\",\"tada\":\"animation_tada__Dolc3\",\"animate__wobble\":\"animation_animate__wobble__jOUmc\",\"wobble\":\"animation_wobble__3l31R\",\"animate__jello\":\"animation_animate__jello__orzee\",\"jello\":\"animation_jello__1K-FF\",\"animate__heartBeat\":\"animation_animate__heartBeat__1dkOq\",\"heartBeat\":\"animation_heartBeat__145VU\",\"animate__backInDown\":\"animation_animate__backInDown__37gLL\",\"backInDown\":\"animation_backInDown__lrGjT\",\"animate__backInLeft\":\"animation_animate__backInLeft__1g8KN\",\"backInLeft\":\"animation_backInLeft__1u_d7\",\"animate__backInRight\":\"animation_animate__backInRight__3PjQ8\",\"backInRight\":\"animation_backInRight__28r1l\",\"animate__backInUp\":\"animation_animate__backInUp__f1j7b\",\"backInUp\":\"animation_backInUp__3w5vD\",\"animate__backOutDown\":\"animation_animate__backOutDown__2LS0h\",\"backOutDown\":\"animation_backOutDown__1sOSr\",\"animate__backOutLeft\":\"animation_animate__backOutLeft__38KvF\",\"backOutLeft\":\"animation_backOutLeft__1svpI\",\"animate__backOutRight\":\"animation_animate__backOutRight__3YzkW\",\"backOutRight\":\"animation_backOutRight__2gjNr\",\"animate__backOutUp\":\"animation_animate__backOutUp__2qMhA\",\"backOutUp\":\"animation_backOutUp__2QMEi\",\"animate__bounceIn\":\"animation_animate__bounceIn__cmOI5\",\"bounceIn\":\"animation_bounceIn__2TmoR\",\"animate__bounceInDown\":\"animation_animate__bounceInDown__1wk-K\",\"bounceInDown\":\"animation_bounceInDown__1yKPW\",\"animate__bounceInLeft\":\"animation_animate__bounceInLeft__17Raw\",\"bounceInLeft\":\"animation_bounceInLeft__BJ6Q0\",\"animate__bounceInRight\":\"animation_animate__bounceInRight__2C_Yr\",\"bounceInRight\":\"animation_bounceInRight__xmaiy\",\"animate__bounceInUp\":\"animation_animate__bounceInUp__1pt0R\",\"bounceInUp\":\"animation_bounceInUp__14LwT\",\"animate__bounceOut\":\"animation_animate__bounceOut__2e7Uc\",\"bounceOut\":\"animation_bounceOut__3xswx\",\"animate__bounceOutDown\":\"animation_animate__bounceOutDown__3_z_c\",\"bounceOutDown\":\"animation_bounceOutDown__2dy6S\",\"animate__bounceOutLeft\":\"animation_animate__bounceOutLeft__1Qs7i\",\"bounceOutLeft\":\"animation_bounceOutLeft__3nBTp\",\"animate__bounceOutRight\":\"animation_animate__bounceOutRight__2WVHu\",\"bounceOutRight\":\"animation_bounceOutRight__1OBJU\",\"animate__bounceOutUp\":\"animation_animate__bounceOutUp__2gWdW\",\"bounceOutUp\":\"animation_bounceOutUp__2Q1CE\",\"animate__fadeIn\":\"animation_animate__fadeIn__32ZxM\",\"fadeIn\":\"animation_fadeIn__heuZr\",\"animate__fadeInDown\":\"animation_animate__fadeInDown__6_DTK\",\"fadeInDown\":\"animation_fadeInDown__qG7Td\",\"animate__fadeInDownBig\":\"animation_animate__fadeInDownBig__37PsI\",\"fadeInDownBig\":\"animation_fadeInDownBig__3sAYi\",\"animate__fadeInLeft\":\"animation_animate__fadeInLeft__3h-yo\",\"fadeInLeft\":\"animation_fadeInLeft__1BPWP\",\"animate__fadeInLeftBig\":\"animation_animate__fadeInLeftBig__1KojN\",\"fadeInLeftBig\":\"animation_fadeInLeftBig__349LZ\",\"animate__fadeInRight\":\"animation_animate__fadeInRight__2gd2T\",\"fadeInRight\":\"animation_fadeInRight__3S4oj\",\"animate__fadeInRightBig\":\"animation_animate__fadeInRightBig__1wULx\",\"fadeInRightBig\":\"animation_fadeInRightBig__3KRn4\",\"animate__fadeInUp\":\"animation_animate__fadeInUp__1yi3k\",\"fadeInUp\":\"animation_fadeInUp__2kbTF\",\"animate__fadeInUpBig\":\"animation_animate__fadeInUpBig__3qA6k\",\"fadeInUpBig\":\"animation_fadeInUpBig__2_dzT\",\"animate__fadeInTopLeft\":\"animation_animate__fadeInTopLeft__w6vZq\",\"fadeInTopLeft\":\"animation_fadeInTopLeft__8p8Qq\",\"animate__fadeInTopRight\":\"animation_animate__fadeInTopRight__2X03g\",\"fadeInTopRight\":\"animation_fadeInTopRight__jG8VR\",\"animate__fadeInBottomLeft\":\"animation_animate__fadeInBottomLeft__qKog6\",\"fadeInBottomLeft\":\"animation_fadeInBottomLeft__1sPxl\",\"animate__fadeInBottomRight\":\"animation_animate__fadeInBottomRight__2cUhT\",\"fadeInBottomRight\":\"animation_fadeInBottomRight__EyMHH\",\"animate__fadeOut\":\"animation_animate__fadeOut__36o7o\",\"fadeOut\":\"animation_fadeOut__3QldQ\",\"animate__fadeOutDown\":\"animation_animate__fadeOutDown__2GELJ\",\"fadeOutDown\":\"animation_fadeOutDown__27Z3h\",\"animate__fadeOutDownBig\":\"animation_animate__fadeOutDownBig__2_lfz\",\"fadeOutDownBig\":\"animation_fadeOutDownBig__2BRpt\",\"animate__fadeOutLeft\":\"animation_animate__fadeOutLeft__p_6xc\",\"fadeOutLeft\":\"animation_fadeOutLeft__w3OEM\",\"animate__fadeOutLeftBig\":\"animation_animate__fadeOutLeftBig__1wmWa\",\"fadeOutLeftBig\":\"animation_fadeOutLeftBig__qGlfZ\",\"animate__fadeOutRight\":\"animation_animate__fadeOutRight__3dieH\",\"fadeOutRight\":\"animation_fadeOutRight__25MfW\",\"animate__fadeOutRightBig\":\"animation_animate__fadeOutRightBig__36HR_\",\"fadeOutRightBig\":\"animation_fadeOutRightBig__uRuki\",\"animate__fadeOutUp\":\"animation_animate__fadeOutUp__2T7Wq\",\"fadeOutUp\":\"animation_fadeOutUp__2e5Up\",\"animate__fadeOutUpBig\":\"animation_animate__fadeOutUpBig__1dC91\",\"fadeOutUpBig\":\"animation_fadeOutUpBig__1rhc1\",\"animate__fadeOutTopLeft\":\"animation_animate__fadeOutTopLeft__3lTZi\",\"fadeOutTopLeft\":\"animation_fadeOutTopLeft__3GVRF\",\"animate__fadeOutTopRight\":\"animation_animate__fadeOutTopRight__1qN2u\",\"fadeOutTopRight\":\"animation_fadeOutTopRight__1Fcg6\",\"animate__fadeOutBottomRight\":\"animation_animate__fadeOutBottomRight__2GuOH\",\"fadeOutBottomRight\":\"animation_fadeOutBottomRight__3TSEA\",\"animate__fadeOutBottomLeft\":\"animation_animate__fadeOutBottomLeft__FYvZB\",\"fadeOutBottomLeft\":\"animation_fadeOutBottomLeft__MdVcM\",\"animate__flip\":\"animation_animate__flip__1nRHg\",\"flip\":\"animation_flip__3Cl9Q\",\"animate__flipInX\":\"animation_animate__flipInX__2r63v\",\"flipInX\":\"animation_flipInX__1DKCG\",\"animate__flipInY\":\"animation_animate__flipInY__2inmu\",\"flipInY\":\"animation_flipInY__7ovvu\",\"animate__flipOutX\":\"animation_animate__flipOutX__2aMKF\",\"flipOutX\":\"animation_flipOutX__2lxf9\",\"animate__flipOutY\":\"animation_animate__flipOutY__3FHLG\",\"flipOutY\":\"animation_flipOutY__9mHVL\",\"animate__lightSpeedInRight\":\"animation_animate__lightSpeedInRight__3X1hQ\",\"lightSpeedInRight\":\"animation_lightSpeedInRight__1SIQS\",\"animate__lightSpeedInLeft\":\"animation_animate__lightSpeedInLeft__3b8jg\",\"lightSpeedInLeft\":\"animation_lightSpeedInLeft__31y1i\",\"animate__lightSpeedOutRight\":\"animation_animate__lightSpeedOutRight__biifc\",\"lightSpeedOutRight\":\"animation_lightSpeedOutRight__YWstI\",\"animate__lightSpeedOutLeft\":\"animation_animate__lightSpeedOutLeft__3b3Vy\",\"lightSpeedOutLeft\":\"animation_lightSpeedOutLeft__1bxKh\",\"animate__rotateIn\":\"animation_animate__rotateIn__1PIZh\",\"rotateIn\":\"animation_rotateIn__1fdHn\",\"animate__rotateInDownLeft\":\"animation_animate__rotateInDownLeft__39ijt\",\"rotateInDownLeft\":\"animation_rotateInDownLeft__mqVeX\",\"animate__rotateInDownRight\":\"animation_animate__rotateInDownRight__3dsn2\",\"rotateInDownRight\":\"animation_rotateInDownRight__3zmh-\",\"animate__rotateInUpLeft\":\"animation_animate__rotateInUpLeft__1lsNh\",\"rotateInUpLeft\":\"animation_rotateInUpLeft__Yboep\",\"animate__rotateInUpRight\":\"animation_animate__rotateInUpRight__3dKtO\",\"rotateInUpRight\":\"animation_rotateInUpRight__1pNe7\",\"animate__rotateOut\":\"animation_animate__rotateOut__2dW2U\",\"rotateOut\":\"animation_rotateOut__2-da3\",\"animate__rotateOutDownLeft\":\"animation_animate__rotateOutDownLeft__30M7w\",\"rotateOutDownLeft\":\"animation_rotateOutDownLeft__3W5n0\",\"animate__rotateOutDownRight\":\"animation_animate__rotateOutDownRight__NRwYu\",\"rotateOutDownRight\":\"animation_rotateOutDownRight__Oj9af\",\"animate__rotateOutUpLeft\":\"animation_animate__rotateOutUpLeft__2_gNK\",\"rotateOutUpLeft\":\"animation_rotateOutUpLeft__1nBSw\",\"animate__rotateOutUpRight\":\"animation_animate__rotateOutUpRight__1urA_\",\"rotateOutUpRight\":\"animation_rotateOutUpRight__1qjeJ\",\"animate__hinge\":\"animation_animate__hinge__1PgaZ\",\"hinge\":\"animation_hinge__oku4f\",\"animate__jackInTheBox\":\"animation_animate__jackInTheBox__id96C\",\"jackInTheBox\":\"animation_jackInTheBox__zkNZL\",\"animate__rollIn\":\"animation_animate__rollIn__1J7IK\",\"rollIn\":\"animation_rollIn__2Bg4U\",\"animate__rollOut\":\"animation_animate__rollOut__1wMDH\",\"rollOut\":\"animation_rollOut__3gAYx\",\"animate__zoomIn\":\"animation_animate__zoomIn__1hFUQ\",\"zoomIn\":\"animation_zoomIn__2Ysra\",\"animate__zoomInDown\":\"animation_animate__zoomInDown__3R2bF\",\"zoomInDown\":\"animation_zoomInDown__25kvL\",\"animate__zoomInLeft\":\"animation_animate__zoomInLeft__1LV3X\",\"zoomInLeft\":\"animation_zoomInLeft__2HmO3\",\"animate__zoomInRight\":\"animation_animate__zoomInRight__d-h7n\",\"zoomInRight\":\"animation_zoomInRight__1rNSq\",\"animate__zoomInUp\":\"animation_animate__zoomInUp__376V4\",\"zoomInUp\":\"animation_zoomInUp__15qKg\",\"animate__zoomOut\":\"animation_animate__zoomOut__3t2Bd\",\"zoomOut\":\"animation_zoomOut__1QC3p\",\"animate__zoomOutDown\":\"animation_animate__zoomOutDown__31kSy\",\"zoomOutDown\":\"animation_zoomOutDown__13Fkl\",\"animate__zoomOutLeft\":\"animation_animate__zoomOutLeft__YMng8\",\"zoomOutLeft\":\"animation_zoomOutLeft__2PJOd\",\"animate__zoomOutRight\":\"animation_animate__zoomOutRight__15hLn\",\"zoomOutRight\":\"animation_zoomOutRight__3KV7z\",\"animate__zoomOutUp\":\"animation_animate__zoomOutUp__2b38q\",\"zoomOutUp\":\"animation_zoomOutUp__2sJig\",\"animate__slideInDown\":\"animation_animate__slideInDown__HdrCz\",\"slideInDown\":\"animation_slideInDown__1Z1V0\",\"animate__slideInLeft\":\"animation_animate__slideInLeft__3e5WA\",\"slideInLeft\":\"animation_slideInLeft__sHAWT\",\"animate__slideInRight\":\"animation_animate__slideInRight__1LICG\",\"slideInRight\":\"animation_slideInRight__2tQDf\",\"animate__slideInUp\":\"animation_animate__slideInUp__Ojd9c\",\"slideInUp\":\"animation_slideInUp__1coTg\",\"animate__slideOutDown\":\"animation_animate__slideOutDown__1h9Y3\",\"slideOutDown\":\"animation_slideOutDown__2TFx-\",\"animate__slideOutLeft\":\"animation_animate__slideOutLeft__KU6g3\",\"slideOutLeft\":\"animation_slideOutLeft__2XK_4\",\"animate__slideOutRight\":\"animation_animate__slideOutRight__2RobF\",\"slideOutRight\":\"animation_slideOutRight__3skjA\",\"animate__slideOutUp\":\"animation_animate__slideOutUp__3jidc\",\"slideOutUp\":\"animation_slideOutUp__2d_2L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalToRead\":\"ModalToRead_ModalToRead__SCTAx\",\"newsName\":\"ModalToRead_newsName__XdaYs\",\"imageBlock\":\"ModalToRead_imageBlock__svSGj\",\"topDecor\":\"ModalToRead_topDecor__gQQ5M\",\"bottomDecor\":\"ModalToRead_bottomDecor__OAaz4\",\"leftDecor\":\"ModalToRead_leftDecor__2gGR7\",\"rightDecor\":\"ModalToRead_rightDecor__3TZWT\",\"centerDecorBox\":\"ModalToRead_centerDecorBox__17Fbw\",\"image\":\"ModalToRead_image__EXssk\",\"content\":\"ModalToRead_content__1Pqpa\",\"buttonsBlock\":\"ModalToRead_buttonsBlock__dN0pc\",\"linkToOriginal\":\"ModalToRead_linkToOriginal__39ojz\",\"closeButton\":\"ModalToRead_closeButton__3v9mg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__3aGs-\",\"openButton\":\"Menu_openButton__q09la\",\"decorLine\":\"Menu_decorLine__1U-_q\",\"memuBody\":\"Menu_memuBody__1kXlj\",\"open\":\"Menu_open__2gK3u\",\"closeButton\":\"Menu_closeButton__10YfB\",\"list\":\"Menu_list__3r7KG\",\"item\":\"Menu_item__EaZ3x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__3HGEL\",\"absolute\":\"Preloader_absolute__2SfHe\",\"background\":\"Preloader_background__1UpH7\",\"container\":\"Preloader_container__1kkrF\",\"elem\":\"Preloader_elem__ObcAQ\",\"slide\":\"Preloader_slide__1W2zn\",\"color-change\":\"Preloader_color-change__AIqO8\",\"flip-1\":\"Preloader_flip-1__3w-aM\",\"squidge-1\":\"Preloader_squidge-1__31GKB\",\"flip-2\":\"Preloader_flip-2__2ySIt\",\"squidge-2\":\"Preloader_squidge-2__2nAOC\",\"flip-3\":\"Preloader_flip-3__1TIVp\",\"squidge-3\":\"Preloader_squidge-3__3l69d\",\"flip-4\":\"Preloader_flip-4__2aJ1T\",\"squidge-4\":\"Preloader_squidge-4__2cUFx\"};","// \"mode\" is a switch between the main content and two possible modal windows\r\n// 0 - main content, 1 - modal windows to read, 2 - modal window to change/create\r\nexport const [NEWSFEED, TO_READ, TO_CHANGE] = [0, 1 , 2];\r\nexport const sortKeys = {\r\n  dateUp: 'DATE-UP',\r\n  dateDown: 'DATE-DOWN',\r\n};\r\nexport const referenceObjForSort = {\r\n  'date up': sortKeys.dateUp,\r\n  'date down': sortKeys.dateDown,\r\n};\r\nexport const DEFAULT_SORT_NAME = 'date down';\r\n\r\nconst init = {\r\n  mode: NEWSFEED,\r\n  isLoading: true,\r\n  sortVariant: sortKeys.dateDown,\r\n  isMenuOpen: false,\r\n  user: null,\r\n};\r\n\r\nconst actionTypes = {\r\n  changeMode: 'CHANGE-MODE',\r\n  toggleLoading: 'TOGGLE-LOADING',\r\n  setSort: 'SET-SORT',\r\n  setMenuOpen: 'SET-MENU-OPEN',\r\n  setUser: 'SET-USER',\r\n};\r\n\r\nexport const actionCreators = {\r\n  changeMode: mode => {return {type: actionTypes.changeMode, mode}},\r\n  toggleLoading: value => {return {type: actionTypes.toggleLoading, value}},\r\n  setSort: value => {return {type: actionTypes.setSort, value}},\r\n  setMenuOpen: value => {return {type: actionTypes.setMenuOpen, value}},\r\n  setUser: value => {return {type: actionTypes.setUser, value}},\r\n};\r\n\r\nconst globalReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.changeMode: return {...state, mode: action.mode};\r\n    case actionTypes.toggleLoading: return { ...state,\r\n      isLoading: (action.value === undefined) ? !state.isLoading : action.value\r\n    };\r\n    case actionTypes.setSort: return {...state, sortVariant: action.value};\r\n    case actionTypes.setMenuOpen: return {...state, \r\n      isMenuOpen: (action.value === undefined) ? !state.isMenuOpen : action.value\r\n    };\r\n    case actionTypes.setUser: return {...state, user: action.value};\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default globalReducer;","const init = {\r\n  articles: [],\r\n  currentArticle: null,\r\n  filters: [],\r\n};\r\n\r\nconst actionTypes = {\r\n  setArticles: 'SET-ARTICLES',\r\n  setCurrentArticle: 'SET-CURRENT-ARTICLE',\r\n  setFilter: 'SET-FILTER',\r\n  removeFilter: 'REMOVE-FILTER'\r\n};\r\n\r\nexport const actionCreators = {\r\n  setArticles: data => {return {type: actionTypes.setArticles, data}},\r\n  setCurrentArticle: id => {return {type: actionTypes.setCurrentArticle, id}},\r\n  setFilter: data => {return {type: actionTypes.setFilter, data}},\r\n  removeFilter: data => {return {type: actionTypes.removeFilter, data}},\r\n};\r\n\r\nconst articlesReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.setArticles:\r\n      return {\r\n        ...state,\r\n        articles: action.data,\r\n      };\r\n    case actionTypes.setCurrentArticle:\r\n      return {\r\n        ...state,\r\n        currentArticle: (action.id === null) ? \r\n          null : state.articles.filter(item => item.id === action.id)[0]\r\n      };\r\n    case actionTypes.setFilter:\r\n      let hasThisFilterType = state.filters.reduce((accumulator, item) =>{\r\n        if (item.type === action.data.type) accumulator = true;\r\n        return accumulator;\r\n      }, false);\r\n      return {\r\n        ...state,\r\n        filters: !hasThisFilterType ? \r\n          state.filters.concat([action.data])\r\n        : state.filters.map(item => item.type === action.data.type ? \r\n            {type: item.type, method: action.data.method, value: action.data.value} : item\r\n          ),\r\n      };\r\n    case actionTypes.removeFilter:\r\n      return {\r\n        ...state,\r\n        filters: state.filters.filter(item => item.type !== action.data.type),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default articlesReducer;","const init = null;\r\n\r\nconst actionTypes = {\r\n  setRedirect: 'SET-REDIRECT',\r\n};\r\n\r\n// export const actionCreators = {\r\n//   setRedirect: value => {return {type: actionTypes.setRedirect, value}},\r\n// };\r\nexport const actionCreator = value => {return {type: actionTypes.setRedirect, value}};\r\n\r\nconst redirectReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.setRedirect: return action.value;\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default redirectReducer;","import {combineReducers, createStore, applyMiddleware} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nimport globalReducer from './reducers/globalReducer';\r\nimport articlesReducer from './reducers/articlesReducer';\r\nimport redirectReducer from './reducers/redirectReducer';\r\n\r\nconst reducers = combineReducers({\r\n  articles: articlesReducer,\r\n  global: globalReducer,\r\n  redirect: redirectReducer,\r\n  form: formReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nexport default store;","export const getNewsImagePath = (item, options) => {\r\n  let size = (options && options.size) ? options.size : null;\r\n  let defaultValue = './img/defaultImage.jpg';\r\n  let value = (size === 'large') ? item.images.large : item.images.small;\r\n  let alternative = (size === 'large') ? item.images.small : item.images.large;\r\n  return (value) ? value : (alternative) ? alternative : defaultValue;\r\n}\r\n\r\nexport const getItemToSend = (formData) => ({\r\n  id: formData.id,\r\n  owner: formData.owner,\r\n  original: formData.original,\r\n  name: formData.name,\r\n  preview: formData.preview,\r\n  newsLayout: formData.newsLayout,\r\n  images: {\r\n    small: formData.smallImage,\r\n    large: formData.largeImage,\r\n  }\r\n});\r\n\r\nexport const getDateString = (timestamp) => {\r\n  let date = new Date(+timestamp);\r\n  let month = date.getMonth() + 1;\r\n  let day = date.getDate();\r\n  let hours = date.getHours();\r\n  let minutes = date.getMinutes();\r\n  const dateObj = {\r\n    year: `${date.getFullYear()}`,\r\n    month: month < 10 ? `0${month}` : `${month}`,\r\n    day: day < 10 ? `0${day}` : `${day}`,\r\n    hours: hours < 10 ? `0${hours}` : `${hours}`,\r\n    minutes: minutes < 10 ? `0${minutes}` : `${minutes}`,\r\n  };\r\n  let calendarDate = `${dateObj.day}.${dateObj.month}.${dateObj.year}`;\r\n  let time = `${dateObj.hours}:${dateObj.minutes}`;\r\n  return `${calendarDate}  ${time}`;\r\n}\r\n\r\nexport const getPathname = (prefix, path) => {\r\n  return prefix ?\r\n    path ? path.split(prefix)[1] : window.location.pathname.split(prefix)[1]\r\n  : path ? path : window.location.pathname;\r\n}\r\n\r\nexport const getRoutePrefix = routs => {\r\n  const pathname = window.location.pathname;\r\n  if (pathname === '/') return '';\r\n  const pathArr = pathname.split('/').filter(item => item !== '');\r\n  const routsNames = Object.keys(routs).map(item => routs[item].substr(1));\r\n  const prefixArr = pathArr.filter(item => !routsNames.includes(item));\r\n  const prefix = prefixArr.length ? '/' + prefixArr.join('/') : '';\r\n  return prefix;\r\n};\r\n\r\n// export const getTimestampOfDate = (dateStrig, timeString) => {\r\n//   let date = dateStrig.split('.');\r\n//   let time = timeString.split(':');\r\n//   return +(new Date(+date[2], +date[1] - 1, +date[0], +time[0], +time[1]))\r\n// }","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { getPathname } from \"../utils\";\r\n\r\nconst withAuthRedirect = InputComponent => props => {\r\n\r\n  const unconditionalRedirection = sessionStorage.getItem('unRedirect');\r\n  // handling redirects after 404\r\n  if (unconditionalRedirection) {\r\n    sessionStorage.removeItem('unRedirect');\r\n    return <Redirect to={`${props.prefix ? props.prefix : ''}${unconditionalRedirection}`}/>\r\n  }\r\n\r\n  // main logic\r\n  const pathname = getPathname(props.prefix, props.location.pathname);\r\n  if (props.redirect) {\r\n    //  withRouter from react-router-dom;\r\n    if (pathname !== props.redirect) {\r\n      return <Redirect to={`${props.prefix ? props.prefix : ''}${props.redirect}`}/>\r\n    } else {\r\n      props.setRedirect(null);\r\n    }\r\n  }\r\n  return <InputComponent {...props} />\r\n}\r\nexport default withAuthRedirect;","const BASE_KEY = 'NEWSFEED';\r\nconst VERSION = '1.0.4';\r\nexport const KEYS = {\r\n  articles: 'ARTICLES',\r\n  users: 'USERS',\r\n};\r\n\r\nconst getBase = () => JSON.parse(localStorage.getItem(BASE_KEY));\r\nconst setBase = value => localStorage.setItem(BASE_KEY, JSON.stringify(value));\r\n\r\nexport default {\r\n  isInit: () => {\r\n    let base = getBase();\r\n    return !base || !base.version || base.version !== VERSION ? false : true;\r\n  },\r\n  getActualVersion: () => VERSION,\r\n  create: ({users, articles, version}) => {\r\n    if (users && articles && version) {\r\n      setBase({users, articles, version});\r\n      return true;\r\n    } else {return false;}\r\n  },\r\n  get: key => {\r\n    let base = getBase();\r\n    switch (key) {\r\n      case KEYS.articles:\r\n        return base.articles;\r\n      case KEYS.users:\r\n        return base.users;\r\n      default: return null;\r\n    }\r\n  },\r\n  set: (key, value) => {\r\n    let base = getBase();\r\n    switch (key) {\r\n      case KEYS.articles:\r\n        base.articles = value;\r\n        break;\r\n      case KEYS.users:\r\n        base.users = value;\r\n        break;\r\n      default: return null;\r\n    }\r\n    setBase(base);\r\n  },\r\n}\r\n\r\n","import baseAPI, {KEYS as baseKeys} from './localStorage';\r\n\r\nexport const SERVER = '/';\r\nexport const urlObj = {\r\n  getArticles: 'articles',\r\n  setArticle: 'set-item',\r\n  deleteArticle: 'delete-item',\r\n  checkUserData: 'check-user-data',\r\n  signIn: 'authentification',\r\n  signUp: 'create-user',\r\n  logout: 'logout',\r\n}\r\nconst TOKEN_KEY = 'newsfeed-u';\r\nconst MAX_SESSION_DUR = 86400;\r\n\r\nconst backendEmulation = (url, options) => {\r\n  let response = {ok: true, body: null}, articles, newArticles, token, users;\r\n  const credentials = options && options.credentials === 'include' ? document.cookie : null;\r\n  switch (url) {\r\n    case SERVER + urlObj.getArticles:\r\n      response.body = addOwnersData(baseAPI.get(baseKeys.articles), baseAPI.get(baseKeys.users));\r\n      break;\r\n    case SERVER + urlObj.setArticle:\r\n      articles = baseAPI.get(baseKeys.articles);\r\n      let newItem = new ArticlesItem(articles, options.body);\r\n      newArticles = options.method === 'PUT' ?\r\n        articles.map(item => (item.id === newItem.id) ? newItem : item)\r\n      : articles.concat(newItem);\r\n      baseAPI.set(baseKeys.articles, newArticles);\r\n      response.body = addOwnersData(newArticles, baseAPI.get(baseKeys.users));\r\n      break;\r\n    case SERVER + urlObj.deleteArticle:\r\n      newArticles = baseAPI.get(baseKeys.articles).filter(item => item.id !== options.body.id);\r\n      baseAPI.set(baseKeys.articles, newArticles);\r\n      response.body = addOwnersData(newArticles, baseAPI.get(baseKeys.users));\r\n      break;\r\n    case SERVER + urlObj.checkUserData:\r\n      token = getCredByKey(credentials, TOKEN_KEY);\r\n      users = baseAPI.get(baseKeys.users);\r\n      response.body = verifToken(users, token) ? \r\n        getAllowedUserData(getUser(users, decodeObj(token).id)) : null;\r\n      break;\r\n    case SERVER + urlObj.signIn:\r\n      users = baseAPI.get(baseKeys.users);\r\n      response.body = {errors: []};\r\n      let userID = verifUser(users, options.body);\r\n      if (userID !== null) {\r\n        setTokenInCredentials(getUser(users, userID), options.body.remember);\r\n      } else {\r\n        response.body.errors.push('Invalid username or password');\r\n      }\r\n      break;\r\n    case SERVER + urlObj.signUp:\r\n      users = baseAPI.get(baseKeys.users);\r\n      response.body = {errors: validateUserData(users, options.body)};\r\n      if (!response.body.errors.length) {\r\n        users.push(new User(users, options.body));\r\n        baseAPI.set(baseKeys.users, users);\r\n        setTokenInCredentials(getUser(users, users[users.length - 1].id));\r\n      }\r\n      break;\r\n    case SERVER + urlObj.logout:\r\n      response.body = {errors: []};\r\n      setTokenInCredentials(null);\r\n      break;\r\n    default: \r\n  }\r\n  return response;\r\n}\r\nexport default backendEmulation;\r\n\r\n\r\n\r\nfunction getLastID(arr) {\r\n  if (!arr.length) return 0;\r\n  let sortArray = [...arr].sort((a, b) => {return a.id - b.id});\r\n  return sortArray[sortArray.length - 1].id;\r\n}\r\n\r\nfunction ArticlesItem(articles, changedItem) {\r\n  let isNewInstance = !changedItem;\r\n  let isNewItem = changedItem && !changedItem.id;\r\n  let isItemToChange = !isNewInstance && !isNewItem;\r\n\r\n  return {\r\n    id: (isNewInstance || isNewItem) ? getLastID(articles) + 1 : changedItem.id,\r\n    owner: (isItemToChange || isNewItem) ? changedItem.owner || null : null,\r\n    date: (isNewInstance || isNewItem) ? +(new Date()) : getDate(changedItem),\r\n    original: (isItemToChange || isNewItem) ? changedItem.original || null : null,\r\n    name: (isItemToChange || isNewItem) ? changedItem.name || null : null,\r\n    preview: (isItemToChange || isNewItem) ? changedItem.preview || null : null,\r\n    newsLayout: (isItemToChange || isNewItem) ? changedItem.newsLayout || null : null,\r\n    images: {\r\n      small: (isItemToChange || isNewItem) ? changedItem.images.small || null : null,\r\n      large: (isItemToChange || isNewItem) ? changedItem.images.large || null : null,\r\n    }\r\n  };\r\n\r\n  function getDate(item) {\r\n    return articles.reduce((accumulator, currentItem) => {\r\n      accumulator = currentItem.id === item.id ? currentItem.date : accumulator;\r\n      return accumulator;\r\n    }, null);\r\n  }\r\n}\r\n\r\nfunction User(users, data) {\r\n  return {\r\n    id: getLastID(users) + 1,\r\n    name: data.name,\r\n    surname: data.surname,\r\n    mail: data.mail,\r\n    pass: encodeString(data.pass),\r\n  }\r\n}\r\n\r\nfunction validateUserData(users, data) {\r\n  const errors = [];\r\n  // Checking for the existence of a user\r\n  let filterArr = users.filter(item => item.mail === data.mail);\r\n  if (filterArr.length) errors.push(\r\n    {key: 'mail', text: 'The user registered to this email already exists'}\r\n  );\r\n  // ... if everything is ok the error length will be 0\r\n  return errors;\r\n}\r\n\r\nfunction getUser(users, id) {\r\n  return users.filter(item => item.id === id)[0];\r\n}\r\n\r\nfunction getAllowedUserData(user) {\r\n  return {id: user.id, name: user.name, surname: user.surname}\r\n}\r\n\r\nfunction addOwnersData(articles, users) {\r\n  return articles.map(item => {\r\n    return {...item, owner: getAllowedUserData(getUser(users, item.owner))}\r\n  });\r\n}\r\n\r\nfunction verifUser(users, data) {\r\n  let foundItems = users.filter(\r\n    item => item.mail === data.mail && item.pass === encodeString(data.pass)\r\n  )\r\n  return foundItems.length === 1 ? foundItems[0].id : null;\r\n}\r\n\r\nfunction getToken(user) {\r\n  return encodeObj({id: user.id, test: getTokenTestString(user)});\r\n}\r\n\r\nfunction verifToken(users, token) {\r\n  const obj = decodeObj(token);\r\n  return obj && obj.test && obj.test === getTokenTestString(getUser(users, obj.id));\r\n}\r\n\r\nfunction getTokenTestString(user) {\r\n  let output = '', counter = 0;\r\n  const source1 = window.btoa(\r\n    encodeString(user.name) + encodeString(user.mail) + encodeString(user.surname)\r\n  );\r\n  const source2 = encodeString(\r\n    'This is a very complex, technically unique key :)'.replace(/\\s/g, '')\r\n  );\r\n  for (let i = 0; i < source1.length; i++) {\r\n    output += source1[i] + source2[counter];\r\n    if (counter < source2.length) {counter++} else {counter = 0}\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction getCredByKey(credentials, key) {\r\n  let matches = credentials.match(new RegExp(\r\n    \"(?:^|; )\" + key.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n  ));\r\n  return matches ? decodeURIComponent(matches[1]) : null;\r\n}\r\n\r\nfunction setTokenInCredentials(user, remember) {\r\n  let token = user ? getToken(user) : '';\r\n  let updatedCookie = `${encodeURIComponent(TOKEN_KEY)}=${encodeURIComponent(token)}`;\r\n  let options = {path: '/'};\r\n  \r\n  if (user && remember) {\r\n    options['max-age'] = `${MAX_SESSION_DUR}`;\r\n  } else if (!user) {\r\n    options['max-age'] = '-1';\r\n  };\r\n\r\n  updatedCookie = Object.keys(options).reduce((accumulator, item) => {\r\n    accumulator+=`; ${item}=${options[item]}`;\r\n    return accumulator;\r\n  }, updatedCookie);\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\nfunction encodeString(str) {\r\n  return window.btoa(str.split('').map(item => `${item.charCodeAt(0)}`).join(''));\r\n}\r\n\r\nfunction encodeObj(data) {\r\n  return window.btoa(JSON.stringify(data));\r\n}\r\n\r\nfunction decodeObj(encodeString) {\r\n  try {return JSON.parse(window.atob(encodeString));}\r\n  catch {return null;}\r\n}","import initDefaultBase from './initDefaultBase';\r\nimport backendEmulation, {urlObj as URLs, SERVER} from './backendEmulation';\r\n\r\nconst REQUEST_DELAY = 1000;\r\n\r\nexport default {\r\n  initBase: () => initDefaultBase(),\r\n  getArticles: () => makeRequest(SERVER + URLs.getArticles),\r\n  setArticle: item => makeRequest(\r\n    SERVER + URLs.setArticle, \r\n    {method: item.id ? 'PUT' : 'POST', body: item}\r\n  ),\r\n  deleteArticle: id => makeRequest(\r\n    SERVER + URLs.deleteArticle,\r\n    {method: 'DELETE', body: {id}}\r\n  ),\r\n  checkUser: () => makeRequest(\r\n    SERVER + URLs.checkUserData,\r\n    {method: 'GET', credentials: 'include'}\r\n  ),\r\n  signIn: formData => makeRequest(\r\n    SERVER + URLs.signIn,\r\n    {method: 'POST', body: formData}\r\n  ),\r\n  signUp: formData => makeRequest(\r\n    SERVER + URLs.signUp,\r\n    {method: 'POST', body: formData}\r\n  ),\r\n  logout: () => makeRequest(\r\n    SERVER + URLs.logout,\r\n    {method: 'GET', credentials: 'include'}\r\n  ),\r\n};\r\n\r\nfunction makeRequest(url, options) {\r\n  return emulateRequest(url, options, REQUEST_DELAY)\r\n    .then(responseObj => processingResponse(responseObj))\r\n}\r\n\r\nfunction emulateRequest(url, options, delay) {\r\n  return new Promise(resolve => {\r\n    setTimeout(() => {\r\n      resolve(backendEmulation(url, options))\r\n    }, delay)\r\n  });\r\n}\r\n\r\n/* processingResponse for emulations */\r\nasync function processingResponse(response) {\r\n  return response;\r\n}\r\n\r\n/* processingResponse for real requests */\r\n// async function processingResponse(responseObj) {\r\n//   const response = {ok: responseObj.ok};\r\n//   if (responseObj.ok) {\r\n//     try { response.body = await responseObj.json();}\r\n//     catch (e) { response.body = null; }\r\n//   } else {\r\n//     response.error = getErrorObj(responseObj)\r\n//   }\r\n//   return response;\r\n// }\r\n\r\nfunction getErrorObj(responseObj) {\r\n  // temporarily, there is no error object\r\n  return null;\r\n}","import baseAPI from './localStorage';\r\n\r\nexport default function() {\r\n  return baseAPI.isInit() ? \r\n    new Promise(resolve => {resolve(true)})\r\n  : Promise.all([\r\n      fetch('./source/defaultUsers.json'), \r\n      fetch('./source/defaultArticles.json'),\r\n      baseAPI.getActualVersion()\r\n    ])\r\n    .then(responses => (responses[0].ok && responses[1].ok ? \r\n      Promise.all([responses[0].json(), responses[1].json(), responses[2]]) : false\r\n    ))\r\n    .catch(() => false)\r\n    .then(responses => (!responses ? false : \r\n      baseAPI.create({users: responses[0], articles: responses[1], version: responses[2]})\r\n    ));\r\n}","import { initialize as initializeReduxForm, SubmissionError } from 'redux-form';\r\nimport {getItemToSend} from '../../utils';\r\nimport {\r\n  actionCreators as globalActionCreators, NEWSFEED, referenceObjForSort, DEFAULT_SORT_NAME\r\n} from '../reducers/globalReducer';\r\nimport {actionCreators as articlesActionCreators} from '../reducers/articlesReducer';\r\nimport {actionCreator as setRedirect} from '../reducers/redirectReducer';\r\nimport api from '../../api/api';\r\n\r\n\r\nconst thunkCreators = {\r\n  setBaseItems: data => dispatch => {\r\n    dispatch(articlesActionCreators.setArticles(data));\r\n    dispatch(globalActionCreators.toggleLoading(false));\r\n  },\r\n  activateModal: (newsID, mode) => dispatch => {\r\n    dispatch(articlesActionCreators.setCurrentArticle(newsID));\r\n    dispatch(globalActionCreators.setMenuOpen(false));\r\n    dispatch(globalActionCreators.changeMode(mode));\r\n  },\r\n  deactivateModal: () => dispatch => {\r\n    dispatch(globalActionCreators.changeMode(NEWSFEED));\r\n    dispatch(articlesActionCreators.setCurrentArticle(null));\r\n  },\r\n  setNewsItem: (formData, user) => dispatch => {\r\n    dispatch(globalActionCreators.toggleLoading(true));\r\n    const itemInfo = {...formData, owner: user.id};\r\n    const keysForChecking = ['smallImage', 'largeImage', 'original'];\r\n    // if the fields for links contain data then we form a verification array\r\n    const checkingFields = keysForChecking.reduce((accumulator, currentItem) => {\r\n      if (itemInfo[currentItem]) accumulator.push({key: currentItem, data: itemInfo[currentItem]});\r\n      return accumulator;\r\n    }, [])\r\n\r\n    if (checkingFields.length) {\r\n      return Promise.all(checkingFields.map(item => {\r\n        return fetch(item.data, {method: 'HEAD', mode: 'no-cors'}).catch(r=>null);\r\n      }))\r\n      .then(responses => {\r\n        const fieldsWithErrors = responses.reduce((accumulator, item, index) => {\r\n          if(!item || item.status === 404) accumulator.push(checkingFields[index].key);\r\n          return accumulator;\r\n        }, []);\r\n        if (fieldsWithErrors.length) throwErrors(fieldsWithErrors);\r\n        setArticle(getItemToSend(itemInfo));\r\n      });\r\n    }\r\n    setArticle(getItemToSend(itemInfo));\r\n\r\n    function setArticle(item) {\r\n      api.setArticle(item)\r\n      .then(response => setChangesAndToggleToMain(\r\n        response.body, dispatch, item.id ? false : true\r\n      ));\r\n    }\r\n    function throwErrors(fieldsWithErrors) {\r\n      const ERROR_TEXT = 'The resource you specified is not responding!';\r\n      const errors = {_error: 'Data loading error'};\r\n      fieldsWithErrors.forEach(item => {errors[item] = ERROR_TEXT});\r\n      dispatch(globalActionCreators.toggleLoading(false));\r\n      throw new SubmissionError(errors);\r\n    }\r\n  },\r\n  deleteNewsItem: id => dispatch => {\r\n    dispatch(globalActionCreators.toggleLoading(true));\r\n    api.deleteArticle(id)\r\n    .then(response => setChangesAndToggleToMain(response.body, dispatch, true));\r\n  },\r\n  // setSearch: ({searchString, searchBase}) => dispatch => {\r\n  //   dispatch(globalActionCreators.toggleLoading());\r\n  //   const serchArray = (searchString) ? \r\n  //     searchBase.filter(item => (item.name && item.name.indexOf(searchString) !== -1) ||\r\n  //                               (item.preview && item.preview.indexOf(searchString) !== -1) ||\r\n  //                               (item.newsLayout && item.newsLayout.indexOf(searchString) !== -1)\r\n  //     )\r\n  //   : null;\r\n  //   dispatch(articlesActionCreators.setSearchArticles(serchArray));\r\n  //   dispatch(globalActionCreators.toggleLoading());\r\n  // },\r\n  // setFilter: ({searchString, searchBase, searchMethod}) => dispatch => {\r\n\r\n  // },\r\n  clearSearch: () => dispatch => {\r\n    dispatch(globalActionCreators.toggleLoading());\r\n    dispatch(initializeReduxForm('Search', {inputField: ''}));\r\n    dispatch(articlesActionCreators.setSearchArticles(null));\r\n    dispatch(globalActionCreators.toggleLoading());\r\n  },\r\n  setSort: value => dispatch => {\r\n    dispatch(globalActionCreators.setMenuOpen(false));\r\n    dispatch(globalActionCreators.setSort(referenceObjForSort[value]));\r\n  },\r\n  logout: (e, redirect) => dispatch => {\r\n    e.preventDefault();\r\n    dispatch(globalActionCreators.setMenuOpen(false));\r\n    dispatch(globalActionCreators.toggleLoading(true));\r\n    api.logout().then(r => {\r\n      dispatch(globalActionCreators.setUser(null));\r\n      if (redirect) {\r\n        dispatch(setRedirect(redirect));\r\n      } else {\r\n        dispatch(globalActionCreators.toggleLoading(false));\r\n      }\r\n    });\r\n  },\r\n  resetState: () => dispatch => {\r\n    dispatch(globalActionCreators.changeMode(NEWSFEED));\r\n    dispatch(articlesActionCreators.setCurrentArticle(null));\r\n    dispatch(initializeReduxForm('Search', {inputField: ''}));\r\n    dispatch(articlesActionCreators.setSearchArticles(null));\r\n    dispatch(globalActionCreators.setSort(referenceObjForSort[DEFAULT_SORT_NAME]));\r\n    dispatch(globalActionCreators.setMenuOpen(false));\r\n  },\r\n};\r\nexport default thunkCreators;\r\n\r\nfunction setChangesAndToggleToMain(articles, dispatch, scroll) {\r\n  dispatch(articlesActionCreators.setArticles(articles));\r\n  dispatch(globalActionCreators.changeMode(NEWSFEED));\r\n  dispatch(globalActionCreators.toggleLoading(false));\r\n  if (scroll) window.scrollTo(0, 0);\r\n}","import { initialize as initializeReduxForm } from 'redux-form';\r\n\r\nconst thunkCreators = {\r\n  initForm: (name, data) => dispatch => {\r\n    dispatch(initializeReduxForm(name, data));\r\n  },\r\n};\r\nexport default thunkCreators;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Preloader.module.css';\r\n\r\nfunction Preloader({className, absolute}) {\r\n  return (\r\n    <div className={`${styles.Preloader} ${className} ${(absolute) ? styles.absolute : ''}`}>\r\n      <div className={styles.background} >\r\n        <div className={styles.container} >\r\n          <div className={styles.elem}></div>\r\n          <div className={styles.elem}></div>\r\n          <div className={styles.elem}></div>\r\n          <div className={styles.elem}></div>\r\n          <div className={styles.elem}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nPreloader.propTypes = {\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n  absolute: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf([undefined]).isRequired]),\r\n};\r\nexport default Preloader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({className, buttonText, clickHandler, isSubmit, others, ...props}) =>{\r\n  const classes = `${styles.Button} ${(className) ? className : ''}`;\r\n  const text = buttonText || props.children;\r\n\r\n  return isSubmit ? \r\n    <button type={'submit'} className={classes} {...others}>\r\n      {text}\r\n    </button>\r\n  :\r\n    <button type={'button'} className={classes} {...others}\r\n            onClick={() => {clickHandler()}}\r\n    >{text}</button>\r\n};\r\n\r\nButton.propTypes = {\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]), \r\n  buttonText: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]), \r\n  clickHandler: PropTypes.func, \r\n  isSubmit: PropTypes.bool,\r\n};\r\nexport default Button;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../Button/Button';\r\nimport intStyles from './Search.module.css';\r\n\r\nconst Search = ({className, extStyles, placeholder, value, onChangeHandler, clearForm}) => {\r\n  const styles = extStyles || intStyles;\r\n  return <div className={`${className} ${styles.Search}`}>\r\n    <div>\r\n      <input  className={styles.input} placeholder={placeholder} value={value}\r\n              onChange={e => {onChangeHandler(e.target.value)}}\r\n      />\r\n    </div>\r\n    <div>\r\n      <Button className={styles.cleanButton} clickHandler={clearForm}>\r\n        <span>to clean</span><span>x</span>\r\n      </Button>\r\n    </div>\r\n  </div>\r\n};\r\n\r\n\r\n// Search.propTypes = {\r\n//   className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   searchBase: PropTypes.arrayOf(PropTypes.shape({\r\n//     id: PropTypes.number,\r\n//     date: PropTypes.number,\r\n//     original: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//     name: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//     preview: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//     newsLayout: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//     images:PropTypes.shape({\r\n//       small: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//       large: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//     }),\r\n//   })), \r\n//   handleSubmit: PropTypes.func,\r\n//   setSearch: PropTypes.func, \r\n//   clearSearch: PropTypes.func,\r\n// };\r\n\r\nexport default Search;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {TO_READ, TO_CHANGE} from '../../../store/reducers/globalReducer';\r\nimport {getDateString} from '../../../utils';\r\nimport styles from './NewsItem.module.css';\r\n\r\nconst NewsItem = (props) => {\r\n  const {className, id, imagePath, prewiev, owner, date, activeUser, activateModal} = props;\r\n  return <li  className={`${className} ${styles.NewsItem}`}>\r\n    <div className={styles.mainBlock}>\r\n      <div className={styles.contentWraper}>\r\n        <div className={styles.imageBlock}>\r\n          <img className={styles.image} src={imagePath} />\r\n        </div>\r\n        <div className={styles.contentBlock}>\r\n          <div className={styles.details} >\r\n            {\r\n            activeUser && activeUser === owner.id ?\r\n            <button className={styles.changeButton} onClick={() => activateModal(id, TO_CHANGE)}>\r\n              To edit a news item click here.\r\n            </button> : <span></span>\r\n            }\r\n            <div className={styles.info}>\r\n              <span>{owner.name} {owner.surname}</span>\r\n              <span>{getDateString(date)}</span>\r\n            </div>\r\n            \r\n          </div>\r\n          <p className={styles.prewiev}>{prewiev}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div className={styles.buttonBlock}>\r\n      {\r\n      activeUser && activeUser === owner.id ?\r\n      <button className={`${styles.changeButton} ${styles.mobile}`} \r\n              onClick={() => activateModal(id, TO_CHANGE)}\r\n      >\r\n        Edit\r\n      </button> : <span></span>\r\n      }\r\n      <button className={styles.toReadMoreButton} onClick={() => activateModal(id, TO_READ)}>\r\n        ... Click here to read more\r\n      </button>\r\n    </div>\r\n    <div className={styles.infoMobile}>\r\n      <span>{owner.name} {owner.surname}</span>\r\n      <span>{getDateString(date)}</span>\r\n    </div>\r\n  </li>\r\n};\r\n\r\nNewsItem.propTypes = {\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n  imagePath: PropTypes.string, \r\n  prewiev: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]), \r\n  id: PropTypes.number, \r\n  date: PropTypes.number,\r\n  activateModal: PropTypes.func,\r\n};\r\nexport default NewsItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactHtmlParser from 'react-html-parser';\r\n\r\nimport {getNewsImagePath} from '../../../utils';\r\nimport Button from '../../Button/Button';\r\n\r\nimport styles from './ModalToRead.module.css';\r\nimport animate from '../../animation/animation.module.css';\r\n\r\nconst ModalToRead = ({className, newsItem, handlerToClose, ...props}) => {\r\n  const {name, newsLayout, original} = newsItem;\r\n  const classes = [\r\n    styles.ModalToRead, className, animate.animate__animated, animate.animate__zoomIn\r\n  ].join(' ');\r\n\r\n  return (<div className={classes}>\r\n    <div className={styles.buttonsBlock}>\r\n      <Button className={styles.closeButton} clickHandler={handlerToClose}>close</Button>\r\n      { original ? \r\n        <a  className={styles.linkToOriginal} href={original} target={'_blank'}>go to original</a>\r\n      : null\r\n      }\r\n    </div>\r\n    <h1 className={styles.newsName}>{name}</h1>\r\n    <div className={styles.imageBlock}>\r\n      <div className={styles.topDecor}>horizontal decorative element</div>\r\n      <div className={styles.centerDecorBox}>\r\n        <div  className={styles.leftDecor}>vertical decorative element</div>\r\n        <div className={styles.imageBox}>\r\n          <img  className={styles.image} \r\n                src={getNewsImagePath(newsItem, {size: 'large', prefix: props.prefix})}\r\n          />\r\n        </div>\r\n        <div  className={styles.rightDecor}>vertical decorative element</div>\r\n      </div>\r\n      <div className={styles.bottomDecor}>horizontal decorative element</div>\r\n    </div>\r\n    <div className={styles.content}>\r\n      {\r\n        ReactHtmlParser(newsLayout, {\r\n          transform: (node) => {\r\n            if (node.type === 'text' && !node.parent) {\r\n              return ReactHtmlParser(`<p>${node.data.replace(/\\n/g, '<br>')}</p>`);\r\n            }\r\n          }\r\n        })\r\n      }\r\n    </div>\r\n  </div>);\r\n};\r\n\r\nModalToRead.propTypes = {\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n  newsItem: PropTypes.shape({\r\n    id: PropTypes.number,\r\n    date: PropTypes.number,\r\n    original: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    preview: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    newsLayout: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    images:PropTypes.shape({\r\n      small: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n      large: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    }),\r\n  }), \r\n  handlerToClose: PropTypes.func,\r\n};\r\nexport default ModalToRead;","import { Field } from 'redux-form';\r\n\r\nexport const TextField = ({input, label, meta, elem, className, styles, ...props}) => {\r\n  const {touched, error} = meta;\r\n  const {tagName, type} = elem;\r\n  const forSpread = (tagName == 'input' && type) ? {type: type} : {};\r\n  const tagClass = `${elem.tagName === 'textarea' ? styles.textarea : styles.input}`;\r\n  const errorClass = `${touched && error ? styles.error : ''}`;\r\n\r\n  return <div className={className}>\r\n    <label className={`unselectable ${styles.fieldDescrip}`}>\r\n      <span className={styles.label}>{label}</span>\r\n      {touched && error ? <span>{`( error: ${error} )`}</span> : null}\r\n    </label>\r\n    <Field  component={tagName} {...input}  {...forSpread} \r\n            className={`${tagClass} ${errorClass}`} \r\n    />\r\n  </div>\r\n};\r\n\r\nexport const CheckBox = ({input, label, className, styles, ...props}) => {\r\n  return <div className={className}>\r\n    <Field  component={'input'} type={'checkbox'} id={input.name} {...input}\r\n            className={styles.checkbox} \r\n    />\r\n    <label htmlFor={input.name} className={styles.fieldDescrip}>{label}</label>\r\n  </div>\r\n};","const emailRegexpString_v1 = \"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\";\r\nconst emailRegexpString_v2 = \"^[-a-z0-9!#$%&'*+/=?^_`{|}~]+(\\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*@([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\\.)*(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z][a-z])$\";\r\n\r\nexport const required = value => value ? undefined : 'Field is required!';\r\nexport const afterTrim = value => !value ? undefined : value.trim() ?\r\n  undefined : 'The data can\\'t consist only of whitespace characters!';\r\nexport const email = value => value.match(new RegExp(emailRegexpString_v1)) ? \r\n  undefined : 'Not a valid value!';\r\nexport const englishLetters = value => /^[a-zA-Z]*$/.test(value) ? \r\n  undefined : 'Sorry, but only Latin characters are allowed.';\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport {TextField} from '../../../fieldsToForms';\r\nimport {afterTrim} from '../../../../validators';\r\n\r\nimport styles from '../FormToChange.module.css';\r\n\r\nconst ImageBlock = props => {\r\n  return <div className={styles.imageBlock} >\r\n    <Field  name={'smallImage'} component={TextField} label={'Path of small image of News'} \r\n            elem={{tagName: 'input'}} validate={[afterTrim]} className={styles.textField} \r\n            styles={styles}\r\n    />\r\n    <Field  name={'largeImage'} component={TextField} label={'Path of large image of News'} \r\n            elem={{tagName: 'input'}} validate={[afterTrim]} className={styles.textField} \r\n            styles={styles}\r\n    />\r\n  </div>\r\n};\r\n\r\nexport default ImageBlock;\r\n","import React from 'react';\r\nimport Button from '../../../Button/Button';\r\n\r\nimport styles from '../FormToChange.module.css';\r\n\r\n\r\nconst ButtonsBlock = ({id, handlerToClose, handlerToDelete, others, ...props}) => {\r\n  return <div className={styles.buttonsBlock} >\r\n    <Button className={styles.closeButton} clickHandler={handlerToClose}>\r\n      <span>Close without saving</span><span>Close</span>\r\n    </Button>\r\n    { \r\n      id ?  <Button className={styles.deleteButton} clickHandler={() => handlerToDelete(id)}>\r\n              <span>Delete this news</span><span>Delete</span>\r\n            </Button>\r\n      : null\r\n    }\r\n    <Button className={styles.submitButton} isSubmit>{id ? 'change' : 'create'}</Button>\r\n  </div>\r\n};\r\n\r\n\r\n\r\nexport default ButtonsBlock;\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Preloader from '../../Preloader/Preloader';\r\nimport {TextField} from '../../fieldsToForms';\r\nimport {required, afterTrim} from '../../../validators';\r\nimport ImageBlock from './ImageBlock/ImageBlock';\r\nimport ButtonsBlock from './ButtonsBlock/ButtonsBlock';\r\n\r\nimport styles from './FormToChange.module.css';\r\nimport animate from '../../animation/animation.module.css';\r\n\r\n\r\nconst FormToChange = (props) => {\r\n  // input data\r\n  const {\r\n    className, newsItem, isLoading,\r\n    initForm, handlerToClose, handlerToDelete, handleSubmit,\r\n  } = props;\r\n\r\n  // item\r\n  const {\r\n    id = null, original = null, name = null, preview = null, newsLayout = null\r\n  } = newsItem ? newsItem : {};\r\n\r\n  // for init form\r\n  const initFormData = {\r\n    id, name: name ? name : '', preview: preview ? preview : '', \r\n    original: original ? original : '', newsLayout: newsLayout ? newsLayout : '', \r\n    smallImage: newsItem ? newsItem.images.small : null,\r\n    largeImage: newsItem ? newsItem.images.large : null,\r\n  };\r\n\r\n  // styles\r\n  const classes = [\r\n    styles.FormToChange, className, animate.animate__animated, animate.animate__fadeIn\r\n  ].join(' ');\r\n\r\n  useEffect(() => {initForm('FormToChange', initFormData);}, []);\r\n\r\n  return <form className={classes} onSubmit={handleSubmit} >\r\n    {isLoading ? <Preloader absolute /> : null}\r\n\r\n    <Field className={styles.infoInput} component={'input'} name={'id'} disabled/>\r\n    <ImageBlock/>\r\n    <div className={styles.detailsBlock} >\r\n      <Field  name={'name'} component={TextField} label={'News headline'} elem={{tagName: 'input'}}\r\n              validate={[required, afterTrim]} className={styles.textField} styles={styles}\r\n      />\r\n      <Field  name={'preview'} component={TextField} label={'News preview'} elem={{tagName: 'input'}}\r\n              validate={[required, afterTrim]} className={styles.textField} styles={styles}\r\n      />\r\n      <Field  name={'original'} component={TextField} label={'Link to original'} \r\n              elem={{tagName: 'input'}} validate={[afterTrim]} className={styles.textField} \r\n              styles={styles}\r\n      />\r\n    </div>\r\n    <div className={styles.layoutBlock} >\r\n      <Field  name={'newsLayout'} component={TextField} label={'News layout'} styles={styles}\r\n              elem={{tagName: 'textarea'}} validate={[required, afterTrim]}\r\n              className={styles.textField} \r\n      />\r\n    </div>\r\n    <ButtonsBlock id={id} handlerToClose={handlerToClose} handlerToDelete={handlerToDelete}/>\r\n  </form>;\r\n};\r\n\r\n\r\nFormToChange.propTypes = {\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]), \r\n  newsItem: PropTypes.oneOfType([PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([null]).isRequired]),\r\n    date: PropTypes.number,\r\n    original: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    preview: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    newsLayout: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    images:PropTypes.shape({\r\n      small: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n      large: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n    }),\r\n  }), PropTypes.oneOf([null]).isRequired]),\r\n  isLoading: PropTypes.bool,\r\n  initForm: PropTypes.func, \r\n  handlerToClose: PropTypes.func,\r\n  handlerToDelete: PropTypes.func,\r\n  handleSubmit: PropTypes.func,\r\n};\r\nconst ReduxFormToChange = reduxForm({form: 'FormToChange'})(FormToChange);\r\nexport default ReduxFormToChange;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport intStyles from './Switcher.module.css';\r\n\r\nfunction Switcher({extStyles, name, items, active, clickHandler, ...props}) {\r\n  const uniqueItems = Array.from(new Set(items));\r\n  const initStateValue = active && uniqueItems.includes(active) ? active : \r\n    (uniqueItems.length !== 0) ? uniqueItems[0] : null;\r\n  const [value, setValue] = useState(initStateValue);\r\n\r\n  const internalClickHandler = e => {\r\n    setValue(e.target.dataset.value);\r\n    clickHandler(e.target.dataset.value);\r\n  };\r\n\r\n  return (\r\n    <div className={`${intStyles.Switcher} ${extStyles.Switcher}`}>\r\n      <span className={`${intStyles.descrip} ${extStyles.SwitcherDescrip}`}>{name}&nbsp;{':'}</span>\r\n      <ul className={`${intStyles.list} ${extStyles.SwitcherList}`}>\r\n      {\r\n        uniqueItems.map(item => {\r\n          const active = (item === value) ? intStyles.active : '';\r\n          return <li key={item} className={`${intStyles.item} ${extStyles.SwitcherItem} ${active}`}>\r\n            <button className={'unselectable'} data-value={item} onClick={internalClickHandler}>\r\n              {item}\r\n            </button>\r\n          </li>\r\n        })\r\n      }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Switcher.propTypes = {\r\n//   className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]), \r\n//   itemClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   descripClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   name: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   items: PropTypes.arrayOf(PropTypes.string), \r\n//   active: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   clickHandler: PropTypes.func,\r\n// };\r\nexport default Switcher;","import React, { useEffect, useRef} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Menu.module.css';\r\n\r\nconst Menu = (props) =>{\r\n  const {\r\n    className, bodyClassName, listClassName, bgOfCloseButton, items, isOpen, clickHandler\r\n  } = props;\r\n  const commonClasses = `${styles.Menu} ${className} `;\r\n  const activationClass = `${isOpen ? styles.open : ''}`;\r\n\r\n  const menuRef = useRef(null);\r\n  const onBlurHandler = e => {\r\n    if (!menuRef.current.contains(e.target)) clickHandler(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.addEventListener('click', onBlurHandler);\r\n    } else {\r\n      document.removeEventListener('click', onBlurHandler)\r\n    }\r\n    return () => {document.removeEventListener('click', onBlurHandler)}\r\n  }, [isOpen])\r\n\r\n  return <div className={`${commonClasses} ${activationClass}`} ref={menuRef}>\r\n    <button className={`unselectable ${styles.openButton}`} \r\n            onClick={e => {if (isOpen) {e.preventDefault()} else {clickHandler(true)}}}\r\n    >\r\n      <div className={styles.decorLine} />\r\n      <div className={styles.decorLine} />\r\n      <div className={styles.decorLine} />\r\n    </button>\r\n\r\n    <div  className={`${styles.memuBody} ${bodyClassName} `} >\r\n      <button className={styles.closeButton} onClick={() => {clickHandler(false)}}>\r\n        <img className={styles.background} src={bgOfCloseButton}/>\r\n      </button>\r\n      <ul className={`${styles.list} ${listClassName} `}>\r\n        {items.map((item, index) => <li key={index} className={styles.item}>{item}</li>)}\r\n      </ul>\r\n    </div>\r\n  </div>\r\n};\r\n\r\n// Menu.propTypes = {\r\n//   className: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   bodyClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   listClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]),\r\n//   bgOfCloseButton: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([undefined]).isRequired]), \r\n//   items:PropTypes.array, \r\n//   isOpen: PropTypes.bool, \r\n//   clickHandler: PropTypes.func,\r\n// };\r\nexport default Menu;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './UserSection.module.css';\r\n\r\nconst UserSection = ({className, user, logoutClickHandler, closeMenu, setRedirect}) =>{\r\n  const redirectTo = (e, path) => {e.preventDefault(); closeMenu(); setRedirect(path)}\r\n  return <div className={`${styles.UserSection} ${className}`} >\r\n    {user ? <span>Hi {user.name} :)</span> : null}\r\n    <p>\r\n      <span>Do you want to </span>\r\n      {user ? \r\n        <>\r\n          <a onClick={logoutClickHandler}>logout</a>\r\n          <span> or </span>\r\n          <NavLink to={'./login'} onClick={e => {logoutClickHandler(e, '/login')}}>re-login</NavLink>\r\n        </>\r\n      : <NavLink to={'./login'} onClick={e => {redirectTo(e, '/login')}}>login</NavLink>\r\n      }\r\n    </p>\r\n  </div>\r\n};\r\n\r\nUserSection.propTypes = {\r\n\r\n};\r\nexport default UserSection;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Filter.module.css';\r\nimport Search from '../../Search/Search';\r\nimport Switcher from '../../Switcher/Switcher';\r\n\r\nconst Filter = (\r\n  {className, setFilterValue, setFilterMethod, value, method, filterMethods, }\r\n) => {\r\n  return <div className={`${className} ${styles.Filter}`} >\r\n    <h3>Filter</h3>\r\n    <p>Select the filter criteria from the bottom and enter the filter value in the input field</p>\r\n    <div>\r\n      <Search extStyles={styles} placeholder={'Enter filter value'} value={value}\r\n              onChangeHandler={setFilterValue} clearForm={() => {setFilterValue('')}}\r\n      />\r\n    </div>\r\n    <div>\r\n      <Switcher extStyles={styles} name={'Select a filter criteria'} items={filterMethods}\r\n                active={method} clickHandler={setFilterMethod}  \r\n      />\r\n    </div>\r\n  </div>\r\n};\r\n\r\nexport default Filter;","import React, {useState, useEffect} from 'react';\r\nimport Filter from './Filter';\r\n\r\nconst FilterContainer = ({setFilter, removeFilter, ...props}) => {\r\n  const FILTER_TYPE = 'filter';\r\n  let [filterMethod, setFilterMethod] = useState(props.filterMethods[0]);\r\n  let [filterValue, setFilterValue] = useState('');\r\n\r\n  const filterChanger = () => {\r\n    setFilter({type: FILTER_TYPE, method: filterMethod, value: filterValue});\r\n  };\r\n  const filterRemover = () => {\r\n    removeFilter({type: FILTER_TYPE});\r\n  };\r\n  const refresh = () => {\r\n    if (filterValue) {filterChanger()} else {filterRemover()};\r\n  };\r\n\r\n  useEffect(() => refresh(), [filterValue]);\r\n  useEffect(() => refresh(), [filterMethod]);\r\n\r\n  const toSend = { ...props,\r\n    setFilterValue, setFilterMethod,\r\n    value: filterValue, method: filterMethod,\r\n  };\r\n\r\n  return <Filter {...toSend} />\r\n};\r\nexport default FilterContainer;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Newsfeed.module.css';\r\nimport {NEWSFEED, TO_READ, TO_CHANGE} from '../../store/reducers/globalReducer';\r\nimport {getNewsImagePath} from '../../utils'\r\nimport Preloader from '../Preloader/Preloader';\r\nimport Search from '../Search/Search';\r\nimport Button from '../Button/Button';\r\nimport NewsItem from './NewsItem/NewsItem';\r\nimport ModalToRead from './ModalToRead/ModalToRead';\r\nimport FormToChange from './FormToChange/FormToChange';\r\nimport Switcher from '../Switcher/Switcher';\r\nimport Menu from './Menu/Menu';\r\nimport UserSection from './UserSection/UserSection';\r\nimport FilterContainer from './Filter/FilterContainer';\r\n\r\nconst Newsfeed = (props) => {\r\n  const {\r\n    isLoading, mode, articles, currentArticle, user, arrOfSortNames, defaultSortName, isMenuOpen,\r\n    activateModal, deactivateModal, setNewsItem, deleteNewsItem, initForm, setMenu,\r\n    setFilter, removeFilter, setSort, logout, setRedirect,\r\n    searchValue, setSearchValue, filterMethods,\r\n  } = props;\r\n\r\n  const userBlock = <UserSection  \r\n    user={user} logoutClickHandler={logout} closeMenu={() => {setMenu(false)}}\r\n    setRedirect={setRedirect}\r\n  />\r\n  const addButton = <Button \r\n    className={styles.addNewsButton} clickHandler={() => activateModal(null, TO_CHANGE)}\r\n  >add news</Button>;\r\n\r\n  const sortInterface = <Switcher \r\n    extStyles={styles} name={'Sort'} items={arrOfSortNames} active={defaultSortName} \r\n    clickHandler={value => {setSort(value)}}  \r\n  />\r\n\r\n  const filter = <FilterContainer  \r\n    className={styles.Filter} setFilter={setFilter} removeFilter={removeFilter} \r\n    filterMethods={filterMethods}\r\n  />\r\n\r\n  const menuArray = [userBlock, addButton, sortInterface, filter];\r\n  if (!user) menuArray.splice(1, 1);\r\n  \r\n  return <div className={`${styles.Newsfeed} ${mode === 2 ? styles.modalMode : ''}`}>\r\n    <div className={styles.header} >\r\n      <span className={`unselectable ${styles.logo}`} >newsfeed</span>\r\n      <Search className={styles.Search} placeholder={'Enter filter value'} value={searchValue}\r\n              onChangeHandler={setSearchValue} clearForm={() => {setSearchValue('')}}\r\n      />\r\n      <Menu className={styles.Menu} bodyClassName={styles.memuBody} listClassName={styles.MenuList} \r\n            bgOfCloseButton={'./img/close.png'} isOpen={isMenuOpen} items={menuArray} \r\n            clickHandler={setMenu}\r\n      />\r\n    </div>\r\n\r\n    { mode === NEWSFEED ? \r\n      <ul className={styles.main} >\r\n        {articles.map(item => {\r\n        return <NewsItem  key={item.id} className={styles.NewsItem} prewiev={item.preview}\r\n                          imagePath={getNewsImagePath(item, {prefix: props.prefix})} \r\n                          id={item.id} date={item.date}\r\n                          owner={item.owner} activateModal={activateModal}\r\n                          activeUser={user ? user.id : null}\r\n        />\r\n        })}\r\n      </ul>\r\n    : null\r\n    }\r\n    \r\n    { mode === TO_READ ? \r\n      <ModalToRead  className={styles.ModalToRead} newsItem={currentArticle} \r\n                    handlerToClose={deactivateModal}\r\n      /> \r\n    : null\r\n    }\r\n\r\n    {mode === TO_CHANGE ? \r\n      <FormToChange newsItem={currentArticle} handlerToClose={deactivateModal}\r\n                    onSubmit={e => setNewsItem(e, user)} initForm={initForm}\r\n                    className={styles.FormToChange} isLoading={isLoading} \r\n                    handlerToDelete={deleteNewsItem}\r\n      /> \r\n    : null\r\n    }\r\n\r\n    {isLoading && mode === NEWSFEED ? <Preloader className={styles.Preloader} absolute /> : null}\r\n  </div>;\r\n};\r\n\r\n\r\n\r\n// const itemPropTypes = PropTypes.shape({\r\n//   id: PropTypes.number,\r\n//   date: PropTypes.number,\r\n//   original: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//   name: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//   preview: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//   newsLayout: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//   images:PropTypes.shape({\r\n//     small: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//     large: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null]).isRequired]),\r\n//   }),\r\n// });\r\n\r\n// Newsfeed.propTypes = {\r\n//   isLoading: PropTypes.bool, \r\n//   mode: PropTypes.number, \r\n//   articles: PropTypes.arrayOf(itemPropTypes),\r\n//   currentArticle: PropTypes.oneOfType([\r\n//     itemPropTypes,\r\n//     PropTypes.oneOf([null]).isRequired\r\n//   ]),\r\n//   search: PropTypes.oneOfType([\r\n//     PropTypes.arrayOf(itemPropTypes).isRequired,\r\n//     PropTypes.oneOf([null]).isRequired,\r\n//   ]), \r\n//   activateModal: PropTypes.func,  \r\n//   deactivateModal: PropTypes.func,  \r\n//   initFormToChange: PropTypes.func,  \r\n//   setNewsItem: PropTypes.func,  \r\n//   deleteNewsItem: PropTypes.func,  \r\n//   setSearch: PropTypes.func,  \r\n// };\r\nexport default Newsfeed;","import React, {useState, useEffect} from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nimport withRedirect from '../../hoc/withRedirect';\r\nimport api from '../../api/api';\r\nimport {\r\n  actionCreators as globalActionCreators, sortKeys, referenceObjForSort, DEFAULT_SORT_NAME\r\n} from '../../store/reducers/globalReducer';\r\nimport {actionCreators as articlesActionCreators} from '../../store/reducers/articlesReducer';\r\nimport {actionCreator as setRedirect} from '../../store/reducers/redirectReducer';\r\nimport thunkCreators from '../../store/thunkCreators/newsfeedThunkCreators';\r\nimport commonThunkCreators from '../../store/thunkCreators/commonThunkCreators';\r\nimport Newsfeed from './Newsfeed';\r\n\r\nconst mapStateToProps = state => {return {\r\n  isLoading: state.global.isLoading,\r\n  mode: state.global.mode,\r\n  articles: state.articles.articles,\r\n  currentArticle: state.articles.currentArticle,\r\n  filters: state.articles.filters,\r\n  sortVariant: state.global.sortVariant,\r\n  arrOfSortNames: Object.keys(referenceObjForSort),\r\n  defaultSortName: DEFAULT_SORT_NAME,\r\n  isMenuOpen: state.global.isMenuOpen,\r\n  user: state.global.user,\r\n  redirect: state.redirect,\r\n  filterMethods: ['autor name', 'news preview'],\r\n}};\r\n\r\nconst NewsfeedContainer = ({setUser, ...props}) => {\r\n  const FILTER_TYPE = 'search';\r\n  const FILTER_METHOD = 'search';\r\n  let [searchValue, setSearchValue] = useState('');\r\n\r\n  const refresh = () => {\r\n    if (searchValue) {\r\n      props.setFilter({type: FILTER_TYPE, method: FILTER_METHOD, value: searchValue});\r\n    } else {\r\n      props.removeFilter({type: FILTER_TYPE});\r\n    };\r\n  };\r\n\r\n  useEffect(() => refresh(), [searchValue]);\r\n  useEffect(() => {api.getArticles().then(response => {\r\n    if (response.ok && response.body) props.setBaseItems(response.body);\r\n  })}, []);\r\n  useEffect(() => {api.checkUser().then(response => setUser(response.body));}, []);\r\n\r\n  const propsToSend = {...props, searchValue, setSearchValue, \r\n    articles: sortArticles(setAllFilters(props.articles, props.filters), props.sortVariant),\r\n  };\r\n  return <Newsfeed {...propsToSend}/>\r\n\r\n  function setAllFilters(articles, filters) {\r\n    if (!filters.length) return [...articles];\r\n    return filters.reduce((accumulator, filterItem) => {\r\n      accumulator = setFilterItem(accumulator, filterItem);\r\n      return accumulator;\r\n    }, [...articles])\r\n  }\r\n\r\n  function setFilterItem(arr, filter) {\r\n    switch (filter.method) {\r\n      case 'autor name':\r\n        return arr.filter(item => {\r\n          let author = item.owner.name.toLowerCase() + ' ' + item.owner.surname.toLowerCase();\r\n          return author.includes(filter.value.toLowerCase())\r\n        });\r\n      case 'news preview':\r\n        return arr.filter(item => item.preview.toLowerCase().includes(filter.value.toLowerCase()));\r\n      default:\r\n        return arr.filter(item => (\r\n          item.name.toLowerCase().includes(filter.value.toLowerCase()) || \r\n          item.preview.toLowerCase().includes(filter.value.toLowerCase()) || \r\n          item.newsLayout.toLowerCase().includes(filter.value.toLowerCase())\r\n        ));\r\n    }\r\n  }\r\n\r\n  function sortArticles(articles, sortVariant) {\r\n    if (!articles.length) return [];\r\n    switch (sortVariant) {\r\n      case sortKeys.dateUp: return [...articles].sort((a, b) => a.date - b.date);\r\n      case sortKeys.dateDown: return [...articles].sort((a, b) => b.date - a.date);\r\n      default: return [];\r\n    }\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setUser: globalActionCreators.setUser, \r\n    setMenu: globalActionCreators.setMenuOpen,\r\n    setFilter: articlesActionCreators.setFilter,\r\n    removeFilter: articlesActionCreators.removeFilter,\r\n    setRedirect,\r\n    ...thunkCreators,\r\n    ...commonThunkCreators,\r\n  }),\r\n  withRouter,\r\n  withRedirect\r\n)(NewsfeedContainer);","import { clearSubmitErrors, SubmissionError } from 'redux-form';\r\nimport {actionCreators as globalActionCreators} from '../reducers/globalReducer';\r\nimport {actionCreator as setRedirect} from '../reducers/redirectReducer';\r\nimport api from '../../api/api';\r\n\r\nconst ERRORS_TEXT = {\r\n  'login-err': {\r\n    _error: 'Authentication error',\r\n    text: 'Invalid username or password',\r\n  },\r\n  'confirm-pass-err': {\r\n    _error: 'Password entry error',\r\n    text: 'The entered values in the \"password\" field and in the \"confirm password\" field do not match',\r\n  },\r\n};\r\n\r\nconst thunkCreators = {\r\n  signIn: formData => dispatch => {\r\n    startSubmitValidation(dispatch, 'LoginForm')\r\n    return api.signIn(formData)\r\n    .then(response => {\r\n      if (!response.body.errors.length) {\r\n        dispatch(setRedirect('/'));\r\n      } else {\r\n        throwError(dispatch, {type: 'login-err'});\r\n      }\r\n    })\r\n  },\r\n  signUp: formData => dispatch => {\r\n    startSubmitValidation(dispatch, 'SignUpForm')\r\n    return new Promise(resolve => {\r\n      if (formData.pass !== formData.confirm) {\r\n        throwError(dispatch, {type: 'confirm-pass-err'})\r\n      } else {\r\n        resolve(api.signUp(formData))\r\n      }\r\n    })\r\n    .then(response => {\r\n      if (!response.body.errors.length) {\r\n        dispatch(setRedirect('/'));\r\n      } else {\r\n        throwError(dispatch, {type: 'signup-server-err', errors: response.body.errors})\r\n      }\r\n    });\r\n  },\r\n};\r\nexport default thunkCreators;\r\n\r\nfunction startSubmitValidation(dispatch, form) {\r\n  dispatch(clearSubmitErrors(form));\r\n  dispatch(globalActionCreators.toggleLoading(true));\r\n}\r\n\r\nfunction throwError(dispatch, options) {\r\n  dispatch(globalActionCreators.toggleLoading(false));\r\n  throw new SubmissionError(getErrors(options));\r\n}\r\n\r\nfunction getErrors(options) {\r\n  let errors = {...ERRORS_TEXT[options.type]};\r\n  switch (options.type) {\r\n    case 'login-err':\r\n      errors.mail = errors.pass = errors.text;\r\n      break;\r\n    case 'confirm-pass-err':\r\n      errors.pass = errors.confirm = errors.text;\r\n      break;\r\n    case 'signup-server-err':\r\n      options.errors.forEach(item => {\r\n        errors[item.key] = item.text;\r\n      });\r\n      break;\r\n    default: return null;\r\n  }\r\n  delete errors.text;\r\n  return errors;\r\n}\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {TextField, CheckBox} from '../../fieldsToForms';\r\nimport {required, afterTrim, email} from '../../../validators';\r\nimport Button from '../../Button/Button';\r\nimport styles from '../Authentication.module.css';\r\n\r\nconst LoginForm = ({handleSubmit}) => {\r\n  return <form className={styles.formBlock} onSubmit={handleSubmit}>\r\n    <Field  name={'mail'} component={TextField} label={'Enter your email'} \r\n            elem={{tagName: 'input'}} validate={[required, afterTrim, email]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <Field  name={'pass'} component={TextField} label={'Enter your password'} \r\n            elem={{tagName: 'input', type: 'password'}} validate={[required, afterTrim]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <div className={styles.optionsBlock}>\r\n      <Field  name={'remember'} component={CheckBox} label={'Remember me'} \r\n              className={styles.checkboxContainer} styles={styles}\r\n      />\r\n      <Button className={styles.submitButton} isSubmit>sign in</Button>\r\n    </div>\r\n  </form>\r\n}\r\nconst ReduxLoginForm = reduxForm({form: 'LoginForm'})(LoginForm);\r\nexport default ReduxLoginForm;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {TextField} from '../../fieldsToForms';\r\nimport {required, afterTrim, email} from '../../../validators';\r\nimport Button from '../../Button/Button';\r\nimport styles from '../Authentication.module.css';\r\n\r\nconst SignUpForm = ({handleSubmit, setRedirect, ...props}) => {\r\n  return <form className={styles.formBlock} onSubmit={handleSubmit}>\r\n    <Field  name={'name'} component={TextField} label={'Enter your name'} \r\n            elem={{tagName: 'input'}} validate={[required, afterTrim]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <Field  name={'surname'} component={TextField} label={'Enter your surname'} \r\n            elem={{tagName: 'input'}} validate={[required, afterTrim]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <Field  name={'mail'} component={TextField} label={'Enter your email'} \r\n            elem={{tagName: 'input'}} validate={[required, afterTrim, email]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <Field  name={'pass'} component={TextField} label={'Enter your password'} \r\n            elem={{tagName: 'input', type: 'password'}} validate={[required, afterTrim]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <Field  name={'confirm'} component={TextField} label={'Confirm your password'} \r\n            elem={{tagName: 'input', type: 'password'}} validate={[required, afterTrim]} \r\n            className={styles.textField} styles={styles}\r\n    />\r\n    <div className={styles.buttonsBlock}>\r\n      <Button className={styles.backButton} clickHandler={() => {setRedirect('/login')}}>\r\n        back\r\n      </Button>\r\n      <Button className={styles.submitButton} isSubmit>create</Button>\r\n    </div>\r\n  </form>\r\n}\r\nconst ReduxSignUpForm = reduxForm({form: 'SignUpForm'})(SignUpForm);\r\nexport default ReduxSignUpForm;","import React from 'react';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport LoginForm from './LoginForm/LoginForm';\r\nimport styles from './Authentication.module.css';\r\nimport animate from '../animation/animation.module.css';\r\nimport SignUpForm from './SignUpForm/SignUpForm';\r\n\r\nconst Auth = ({isLoading, locationName, signIn, signUp, setRedirect, ...props}) => {\r\n  const logoAnimation = `${animate.animate__fadeIn} ${animate.animate__slower}`;\r\n  const logoClasses = `${styles.logo} ${animate.animate__animated} ${logoAnimation}`;\r\n  const animationType = locationName === '/login' ? \r\n    animate.animate__fadeInLeft : animate.animate__fadeIn;\r\n  const authBlockAnimation = `${animationType} ${animate.animate__fast} ${animate['animate__delay-2s']}`;\r\n  const authBlockClasses = `${styles.authBlock} ${animate.animate__animated} ${authBlockAnimation}`;\r\n  \r\n\r\n  return <div className={styles.Authentication}>\r\n    <h1 className={`unselectable ${logoClasses}`}>newsfeed</h1>\r\n    <div className={authBlockClasses} >\r\n      <h2 className={`unselectable ${styles.header}`}>\r\n        {locationName === '/login' ? 'sign in' : 'sign up'}\r\n      </h2>\r\n      {locationName === '/login' ? \r\n        <>\r\n          <LoginForm onSubmit={signIn} />\r\n          <p className={styles.footer}>\r\n            <span>If you don't have an account, you can </span>\r\n            <a href={'./signup'} onClick={e=>{e.preventDefault(); setRedirect('/signup')}}>\r\n              sign up here\r\n            </a>\r\n          </p>\r\n        </>\r\n      : <SignUpForm onSubmit={signUp} setRedirect={setRedirect} />\r\n      }\r\n    </div>\r\n    {isLoading ? <Preloader className={styles.Preloader} absolute /> : null}\r\n  </div>\r\n}\r\nexport default Auth;\r\n","import React, { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nimport { getPathname } from \"../../utils\";\r\nimport {actionCreators as globalActionCreators} from '../../store/reducers/globalReducer';\r\nimport {actionCreator as setRedirect} from '../../store/reducers/redirectReducer';\r\nimport withRedirect from '../../hoc/withRedirect';\r\nimport thunkCreators from '../../store/thunkCreators/authThunkCreators';\r\nimport commonThunkCreators from '../../store/thunkCreators/commonThunkCreators';\r\nimport Auth from './Auth';\r\n\r\nconst mapStateToProps = state => {return {\r\n  isLoading: state.global.isLoading,\r\n  redirect: state.redirect,\r\n  loginForm: state.form.LoginForm,\r\n  signUpForm: state.form.SignUpForm,\r\n}};\r\n\r\nconst AuthContainer = ({initForm, toggleLoading, ...props}) => {\r\n  const locationName = getPathname(props.prefix, props.location.pathname);\r\n  useEffect(() => {toggleLoading(false)}, []);\r\n  useEffect(() => {\r\n    let initFormData = locationName === '/login' ? \r\n      {form: 'LoginForm', fields: {mail: '', pass: '', remember: false}}\r\n    : {form: 'SignUpForm', fields: {name: '', surname: '', mail: '', pass: '', confirm: ''}};\r\n    initForm(initFormData.form, initFormData.fields);\r\n  }, [locationName]);\r\n  return <Auth locationName={locationName} {...props} />;\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    toggleLoading: globalActionCreators.toggleLoading,\r\n    setRedirect,\r\n    ...thunkCreators,\r\n    ...commonThunkCreators,\r\n  }),\r\n  withRouter,\r\n  withRedirect\r\n)(AuthContainer);","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport NewsfeedContainer from './components/Newsfeed/NewsfeedContainer';\r\nimport AuthContainer from './components/Authentication/AuthContainer';\r\nimport { getRoutePrefix } from \"./utils\";\r\n\r\nconst MY_ROUTS = {\r\n  login: '/login',\r\n  signup: '/signup'\r\n};\r\nconst PREFIX = getRoutePrefix(MY_ROUTS);\r\n\r\nconst App = props => (\r\n  <div className=\"App\">\r\n    <Router basename = {`${PREFIX}`} >\r\n      <Switch>\r\n        <Route  exact path={'/'} \r\n                render={() => <NewsfeedContainer />}\r\n        />\r\n        <Route  path={MY_ROUTS.login} \r\n                render={() => <AuthContainer />}\r\n        />\r\n        <Route  path={MY_ROUTS.signup} \r\n                render={() => <AuthContainer />}\r\n        />\r\n      </Switch>\r\n    </Router>\r\n  </div>\r\n);\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport store from './store/store';\r\nimport {Provider} from 'react-redux';\r\nimport './index.css';\r\nimport App from './App.js';\r\nimport api from './api/api';\r\n\r\nconst rootElement = document.getElementById('root');\r\n\r\napi.initBase().then(DBWasInit => {\r\n  let output = DBWasInit ? \r\n    <React.StrictMode><Provider store={store}><App /></Provider></React.StrictMode>\r\n  : <p>no base. Sorry</p>;\r\n  ReactDOM.render(output, rootElement);\r\n});\r\n\r\n\r\n// for tests\r\nwindow.getMyState = () => {\r\n  return store.getState();\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Switcher\":\"Switcher_Switcher__11kx9\",\"descrip\":\"Switcher_descrip__3Tgc8\",\"list\":\"Switcher_list__8Ff9v\",\"item\":\"Switcher_item__2pO-6\",\"active\":\"Switcher_active__3Mkoc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Authentication\":\"Authentication_Authentication__1QcHP\",\"logo\":\"Authentication_logo__2Myf3\",\"authBlock\":\"Authentication_authBlock__2kPpJ\",\"header\":\"Authentication_header__2TKFk\",\"formBlock\":\"Authentication_formBlock__MiS2q\",\"textField\":\"Authentication_textField__fNgxz\",\"optionsBlock\":\"Authentication_optionsBlock__UROIm\",\"buttonsBlock\":\"Authentication_buttonsBlock__Ts8-5\",\"checkboxContainer\":\"Authentication_checkboxContainer__3WcWB\",\"submitButton\":\"Authentication_submitButton__28Xm4\",\"backButton\":\"Authentication_backButton__3Gjse\",\"footer\":\"Authentication_footer__2ZVxg\",\"Preloader\":\"Authentication_Preloader__1pfyD\",\"fieldDescrip\":\"Authentication_fieldDescrip__2ERv-\",\"input\":\"Authentication_input__2fjNe\",\"checkbox\":\"Authentication_checkbox__3HMmM\",\"label\":\"Authentication_label__3BmnL\",\"error\":\"Authentication_error__xxX4u\",\"closeButton\":\"Authentication_closeButton__1w-y0\",\"deleteButton\":\"Authentication_deleteButton__V9w-e\",\"FormToChange\":\"Authentication_FormToChange__2CsZ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Filter\":\"Filter_Filter__3dNl-\",\"Search\":\"Filter_Search__qeaQ5\",\"input\":\"Filter_input__3OCzC\",\"cleanButton\":\"Filter_cleanButton__pEGIR\",\"Switcher\":\"Filter_Switcher__3Rxg6\",\"SwitcherDescrip\":\"Filter_SwitcherDescrip__1PUNp\",\"SwitcherList\":\"Filter_SwitcherList__HoRtC\"};"],"sourceRoot":""}